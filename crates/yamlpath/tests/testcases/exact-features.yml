testcase:
  foo: bar
  abc:
    def: ghi

  even:
    deeper:
      block: |
        foo
        bar baz

  flow:
    - list: >-
        abc

  flow2:
    emptykey:

  flow3: { emptykey: }
  flow4: { emptykey }


queries:
  - query: [foo]
    mode: exact
    expected: bar

  - query: [abc, def]
    mode: exact
    expected: ghi

  - query: [even, deeper, block]
    mode: exact
    expected: |2-
      |
              foo
              bar baz

  - query: [flow, 0, list]
    mode: exact
    expected: |2-
      >-
              abc

  - query: [flow2, emptykey]
    mode: exact
    expected: "<<empty>>"

  - query: [flow3, emptykey]
    mode: exact
    expected: "<<empty>>"

  # BUG: should be "<<empty>>"
  - query: [flow4, emptykey]
    mode: exact
    expected: "emptykey"