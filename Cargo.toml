[workspace]
resolver = "2"
members = [
    "crates/github-actions-expressions",
    "crates/github-actions-models",
    "crates/subfeature",
    "crates/yamlpatch",
    "crates/yamlpath",
    "crates/zizmor",
]

[workspace.package]
authors = ["William Woodruff <william@yossarian.net>"]
readme = "README.md"
homepage = "https://docs.zizmor.sh"
edition = "2024"
license = "MIT"
rust-version = "1.88.0"

[workspace.dependencies]
anyhow = "1.0.100"
github-actions-expressions = { path = "crates/github-actions-expressions", version = "0.0.10" }
github-actions-models = { path = "crates/github-actions-models", version = "0.36.0" }
itertools = "0.14.0"
pest = "2.8.3"
pest_derive = "2.8.3"
pretty_assertions = "1.4.1"
annotate-snippets = "0.12.4"
anstream = "0.6.21"
assert_cmd = "2.0.17"
camino = "1.2.1"
clap = "4.5.48"
clap-verbosity-flag = { version = "3.0.4", default-features = false }
clap_complete = "4.5.58"
clap_complete_nushell = "4.5.8"
csv = "1.3.1"
etcetera = "0.10.0"
flate2 = "1.1.4"
fst = "0.4.7"
http-cache-reqwest = "0.16"
human-panic = "2.0.3"
ignore = "0.4.23"
indexmap = { version = "2.11.4", features = ["serde"] }
indicatif = "0.18"
insta = "1.43.2"
jsonschema = "0.30.0"
line-index = "0.1.2"
memchr = "2.7.6"
owo-colors = "4.2.3"
regex = "1.11.3"
reqwest = { version = "0.12.23", default-features = false }
reqwest-middleware = "0.4.2"
serde = { version = "1.0.228", features = ["derive"] }
serde-sarif = "0.8.0"
serde_json = "1.0.145"
serde_json_path = "0.7.2"
serde_yaml = "0.9.34"
subfeature = { path = "crates/subfeature", version = "0.0.3" }
tar = "0.4.44"
terminal-link = "0.1.0"
thiserror = "2.0.17"
tokio = { version = "1.47.1", features = ["rt-multi-thread", "io-std"] }
tower-lsp-server = "0.22"
tracing = "0.1.41"
tracing-indicatif = "0.3.13"
tracing-subscriber = "0.3.20"
tree-sitter = "0.25.10"
tree-sitter-bash = "0.23.3"
tree-sitter-powershell = "0.25.9"
yamlpath = { path = "crates/yamlpath", version = "0.25.0" }
yamlpatch = { path = "crates/yamlpatch", version = "0.3.0" }
tree-sitter-yaml = "0.7.1"
tikv-jemallocator = "0.6"

[workspace.lints.clippy]
dbg_macro = "warn"
todo = "warn"
unimplemented = "warn"
use_debug = "warn"
needless_lifetimes = "warn"
print_stderr = "warn"
print_stdout = "warn"

[profile.dev.package]
insta.opt-level = 3

[profile.release]
lto = true
